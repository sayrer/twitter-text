# Set Ruby build environment for rules_ruby
# These environment variables are used by ruby-build during Ruby compilation
build --action_env=RUBY_CONFIGURE_OPTS="--disable-install-doc"

# macOS-specific settings for Homebrew
build:macos --action_env=CPPFLAGS="-I/opt/homebrew/include"
build:macos --action_env=LDFLAGS="-L/opt/homebrew/lib"
build:macos --action_env=RUBY=/opt/homebrew/opt/ruby@3.2/bin/ruby

# JDK
build --java_runtime_version=remote
build --java_language_version=23
build --tool_java_runtime_version=remote

# Swift - use hermetic toolchain on Linux
# The hermetic Swift toolchain from @swift_linux_x86_64 needs to be on PATH
# for rules_swift's autoconfiguration to find it
common --repo_env=BAZEL_DO_NOT_DETECT_CPP_TOOLCHAIN=1
