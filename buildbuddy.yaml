actions:
    - name: "Test all targets"
      triggers:
          push:
              branches:
                  - "main"
          pull_request:
              branches:
                  - "*"
      container_image: "ubuntu-24.04"
      resource_request:
          disk: "40GB"
      steps:
          - run: |
                sed -i 's/^register_toolchains("@llvm_toolchain/# register_toolchains("@llvm_toolchain/' MODULE.bazel
                bazel test --config=ci-linux //rust/twitter-text/... \
                //rust/ffi-bindings/... \
                //rust/python-bindings/... \
                //rust/cpp-bindings/... \
                //rust/java-bindings/... \
                //rust/wasm-bindings/...
