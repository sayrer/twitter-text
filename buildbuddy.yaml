actions:
    - name: "Test all targets"
      triggers:
          push:
              branches:
                  - "main"
          pull_request:
              branches:
                  - "*"
      container_image: "ubuntu-24.04"
      steps:
          - run: |
                apt-get update && apt-get install -y \
                  libzstd1 libzstd-dev zlib1g zlib1g-dev libtinfo6 \
                  libxml2-dev libclang-dev libffi-dev libyaml-dev \
                  libssl-dev python3 python3-dev
          - run: "bazel test --config=linux //... -- -//rust/ruby-bindings/..."
