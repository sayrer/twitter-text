package(default_visibility = ["//visibility:public"])

java_test(
    name = "ValidatorTest",
    srcs = [
        "src/test/java/com/sayrer/twitter_text/ValidatorTest.java",
    ],
    test_class = "com.sayrer.twitter_text.ValidatorTest",
    deps = [
        "//rust/java-bindings/java:twitter_text_wrappers",
        "@maven//:junit_junit",
    ],
    jvm_flags = [
        "--enable-preview",
        "--enable-native-access=ALL-UNNAMED",
    ],
    env = {
        "LD_LIBRARY_PATH": "rust/java-bindings",
    },
    data = [
        "//rust/java-bindings:twitter_text_java_ffm",
    ],
)

java_test(
    name = "AutolinkTest",
    srcs = [
        "src/test/java/com/sayrer/twitter_text/AutolinkTest.java",
    ],
    test_class = "com.sayrer.twitter_text.AutolinkTest",
    deps = [
        "//rust/java-bindings/java:twitter_text_wrappers",
        "@maven//:junit_junit",
    ],
    jvm_flags = [
        "--enable-preview",
        "--enable-native-access=ALL-UNNAMED",
    ],
    env = {
        "LD_LIBRARY_PATH": "rust/java-bindings",
    },
    data = [
        "//rust/java-bindings:twitter_text_java_ffm",
    ],
)

java_test(
    name = "TwitterTextParserTest",
    srcs = [
        "src/test/java/com/sayrer/twitter_text/TwitterTextParserTest.java",
    ],
    test_class = "com.sayrer.twitter_text.TwitterTextParserTest",
    deps = [
        "//rust/java-bindings/java:twitter_text_wrappers",
        "@maven//:junit_junit",
    ],
    jvm_flags = [
        "--enable-preview",
        "--enable-native-access=ALL-UNNAMED",
    ],
    env = {
        "LD_LIBRARY_PATH": "rust/java-bindings",
    },
    data = [
        "//rust/java-bindings:twitter_text_java_ffm",
    ],
)

java_test(
    name = "TwitterTextConfigurationTest",
    srcs = [
        "src/test/java/com/sayrer/twitter_text/TwitterTextConfigurationTest.java",
    ],
    test_class = "com.sayrer.twitter_text.TwitterTextConfigurationTest",
    deps = [
        "//rust/java-bindings/java:twitter_text_wrappers",
        "@maven//:junit_junit",
    ],
    jvm_flags = [
        "--enable-preview",
        "--enable-native-access=ALL-UNNAMED",
    ],
    env = {
        "LD_LIBRARY_PATH": "rust/java-bindings",
    },
    data = [
        "//rust/java-bindings:twitter_text_java_ffm",
    ],
)

java_test(
    name = "ExtractorTest",
    srcs = [
        "src/test/java/com/sayrer/twitter_text/ExtractorTest.java",
    ],
    test_class = "com.sayrer.twitter_text.ExtractorTest",
    deps = [
        "//rust/java-bindings/java:twitter_text_wrappers",
        "@maven//:junit_junit",
    ],
    jvm_flags = [
        "--enable-preview",
        "--enable-native-access=ALL-UNNAMED",
    ],
    env = {
        "LD_LIBRARY_PATH": "rust/java-bindings",
    },
    data = [
        "//rust/java-bindings:twitter_text_java_ffm",
    ],
)

java_test(
    name = "ConformanceTest",
    srcs = [
        "src/test/java/com/sayrer/twitter_text/ConformanceTest.java",
    ],
    test_class = "com.sayrer.twitter_text.ConformanceTest",
    deps = [
        "//rust/java-bindings/java:twitter_text_wrappers",
        "@maven//:junit_junit",
        "@maven//:com_fasterxml_jackson_dataformat_jackson_dataformat_yaml",
        "@maven//:com_fasterxml_jackson_core_jackson_databind",
        "@maven//:com_fasterxml_jackson_core_jackson_core",
    ],
    jvm_flags = [
        "--enable-preview",
        "--enable-native-access=ALL-UNNAMED",
    ],
    env = {
        "LD_LIBRARY_PATH": "rust/java-bindings",
    },
    data = [
        "//rust/java-bindings:twitter_text_java_ffm",
    ],
    resource_strip_prefix = "conformance",
    resources = [
        "//conformance:autolink.yml",
        "//conformance:extract.yml",
        "//conformance:hit_highlighting.yml",
        "//conformance:tlds.yml",
        "//conformance:validate.yml",
    ],
)
